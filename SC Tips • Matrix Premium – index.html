<!DOCTYPE html><html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SC Tips ‚Ä¢ Matrix Premium ‚Äì 17 Estrat√©gias</title>
<style>
  :root{
    --bg: #000000;
    --matrix-green: #00ff00;
    --gold: #ffd700;
    --dark-gold: #b8860b;
    --panel: #001100;
    --card: #001a00;
    --stroke: #00aa00;
    --muted: #66cc66;
    --ok: #00ff66;
    --warn: #ffff66;
    --err: #ff5555;
    --brand: #00ff88;
    --brand2: #00aa55;
    --text: #aef7ae;
    --text-gold: #ffd700;
  }{ box-sizing: border-box; }


html, body { height: 100%; margin: 0; background: #000; color: var(--text); font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }

h1, h2, h3 { color: var(--gold); text-shadow: 0 0 6px var(--matrix-green); margin: 0 0 10px; } h4 { color: var(--text-gold); margin: 0 0 8px; } .muted { color: var(--muted); }

/* Header */ .header { padding: 20px; text-align: center; background: linear-gradient(90deg, #001100, #000); border-bottom: 2px solid var(--gold); position: sticky; top:0; z-index:10 } .header .title { font-size: clamp(20px, 3.5vw, 34px); letter-spacing: .5px } .sub { font-size: 12px; color: var(--muted); }

/* Layout */ .wrap { max-width: 1400px; margin: 0 auto; padding: 18px; } .painel { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 16px; }

/* Cards */ .card { background: var(--card); border: 1px solid var(--matrix-green); border-radius: 14px; padding: 14px; box-shadow: 0 0 0 1px #003300 inset, 0 12px 30px #0008; } .card.gold { border-color: var(--gold); box-shadow: 0 0 0 1px #332200 inset, 0 12px 30px #0008; } .row { display: grid; grid-template-columns: 120px 1fr; gap: 10px; align-items: center; padding: 6px 0; border-bottom: 1px dashed #043; } .row:last-child { border-bottom: 0; } .k { color: var(--text-gold); } .v { color: var(--text); font-weight: 600; }

/* Badges & Buttons */ .badge { display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border:1px solid var(--stroke); border-radius: 999px; background:#001a00; color: var(--text); font-size: 12px } .btn { background: linear-gradient(180deg, #042, #021); color: var(--text-gold); border:1px solid var(--gold); border-radius: 10px; padding: 10px 14px; cursor: pointer; font-weight: 700; } .btn:hover { filter: brightness(1.1); } .btn-ghost { background: transparent; border:1px dashed var(--stroke); color: var(--text); } .btn-row { display:flex; flex-wrap: wrap; gap: 8px; } .pill { display:inline-flex; align-items:center; gap:8px; padding:8px 10px; border:1px solid var(--stroke); border-radius:999px; }

/* Forms */ input[type="text"], input[type="url"], select { width: 100%; background:#000; color: var(--text); border:1px solid #054; border-radius: 10px; padding:10px 12px; } label { font-size: 12px; color: var(--muted); }

/* Logs */ .logbox { background:#000; border:1px solid #043; border-radius: 12px; padding: 8px; height: 200px; overflow:auto; font: 12px ui-monospace,Menlo,Monaco; } .log-entry { padding:3px 0; border-bottom:1px dashed #062; } .log-entry:last-child { border-bottom:0; }

/* WS Console flutuante */ #ws-console{position:fixed;right:12px;bottom:12px;width:420px;max-height:60vh;overflow:auto; z-index:2147483647;background:#0b1220cc;color:#e6eef3;font:12px ui-monospace,Menlo,Monaco; border:1px solid #263147;border-radius:12px;box-shadow:0 10px 30px #0008;backdrop-filter:blur(6px)} #ws-console header{display:flex;gap:8px;align-items:center;padding:8px 10px;border-bottom:1px solid #23314a} #ws-console header strong{font-weight:700} #ws-console input{flex:1;background:#0b1220;border:1px solid #23314a;color:#e6eef3;border-radius:8px;padding:6px 8px} #ws-console .rowx{padding:6px 10px;border-bottom:1px dashed #223;white-space:pre-wrap;word-break:break-word} #ws-console .muted{opacity:.75}

/* Estrat√©gias grid */ .grid-estrat { display:grid; grid-template-columns: repeat(auto-fit, minmax(260px,1fr)); gap:12px; } .tag { font-size:11px; color:#fff; background:#073; padding:4px 8px; border-radius:999px; border:1px solid #0a5; } .nums { display:flex; flex-wrap:wrap; gap:6px; } .num { background:#021; border:1px solid #094; color:var(--text-gold); padding:6px 8px; border-radius:8px; font-weight:700; }

/* Timer 18s */ .timer { display:flex; align-items:center; gap:10px; } .timer .bubble { width:14px; height:14px; border-radius:50%; background:#093; box-shadow:0 0 10px #0f0; } </style>

</head>
<body>
  <div class="header">
    <div class="title">‚ö° SC Tips ‚Ä¢ Matrix Premium ‚Äî 17 Estrat√©gias</div>
    <div class="sub">Live ‚Ä¢ Verde/Dourado ‚Ä¢ Gatilhos + Base + Prote√ß√£o ‚Ä¢ Atualiza√ß√£o em tempo real</div>
  </div>  <div class="wrap">
    <!-- Controles principais -->
    <div class="card gold">
      <h3>üõ∞Ô∏è Conex√£o & Sons</h3>
      <div class="painel" style="grid-template-columns: repeat(auto-fit, minmax(260px,1fr));">
        <div class="card">
          <label>URL WebSocket (dados JSON)</label>
          <input id="wsUrl" type="url" placeholder="wss://...socket?messageFormat=json&instance=...">
          <div class="btn-row" style="margin-top:10px">
            <button class="btn" id="btnConnect">Conectar</button>
            <button class="btn btn-ghost" id="btnClose">Fechar</button>
            <button class="btn btn-ghost" id="btnMask">Mascarar URL</button>
          </div>
        </div>
        <div class="card">
          <label>Sons</label>
          <div class="btn-row" style="margin-top:6px">
            <button class="btn" id="testGreen">Test Green</button>
            <button class="btn" id="testRed">Test Red</button>
            <button class="btn" id="testAlert">Test Alerta</button>
            <button class="btn" id="testClick">Test Click</button>
          </div>
          <div class="muted" style="margin-top:8px">Coloque os arquivos em <code>/sounds/green.wav</code>, <code>red.wav</code>, <code>alerta.wav</code>, <code>click.wav</code>.</div>
        </div>
        <div class="card">
          <label>Timer Principal</label>
          <div class="timer" style="margin-top:6px">
            <div class="bubble" id="t-bubble"></div>
            <div>
              <div><strong id="t-left">18.0</strong> s</div>
              <small class="muted">ciclo 18s (ajuste no JS se precisar)</small>
            </div>
            <div class="btn-row" style="margin-left:auto">
              <button class="btn btn-ghost" id="t-reset">Reset</button>
              <button class="btn btn-ghost" id="t-start">Start</button>
              <button class="btn btn-ghost" id="t-stop">Stop</button>
            </div>
          </div>
        </div>
      </div>
    </div><!-- Live Roleta -->
<div class="painel">
  <div class="card">
    <h3>üéØ Roleta ‚Äî Live</h3>
    <div class="row"><div class="k">√öltimo N√∫mero</div><div class="v" id="live-num">‚Äì</div></div>
    <div class="row"><div class="k">Dealer</div><div class="v" id="live-dealer">‚Äì</div></div>
    <div class="row"><div class="k">Plataforma</div><div class="v" id="live-plat">‚Äì</div></div>
    <div class="row"><div class="k">Atualizado</div><div class="v" id="live-time">‚Äì</div></div>
    <div class="row"><div class="k">Hist√≥rico</div><div class="v" id="live-hist">‚Äì</div></div>
  </div>

  <div class="card">
    <h3>üìù Logs</h3>
    <div class="btn-row" style="margin-bottom:8px">
      <input id="logFilter" type="text" placeholder="filtrar.." style="flex:1">
      <button class="btn btn-ghost" id="clearLogs">Limpar</button>
      <button class="btn btn-ghost" id="exportLogs">Exportar</button>
    </div>
    <div class="logbox" id="logBox"></div>
  </div>

  <div class="card">
    <h3>üîî Alertas & Resultados</h3>
    <div class="row"><div class="k">TTL Spins</div><div class="v" id="ttl">0</div></div>
    <div class="row"><div class="k">Greens</div><div class="v" id="greens">0</div></div>
    <div class="row"><div class="k">Reds</div><div class="v" id="reds">0</div></div>
    <div class="btn-row" style="margin-top:10px">
      <button class="btn" id="btnMarkGreen">Marcar Green</button>
      <button class="btn" id="btnMarkRed">Marcar Red</button>
    </div>
  </div>
</div>

<!-- Estrat√©gias (exemplos) -->
<div class="card gold">
  <h3>üß† Estrat√©gias ‚Äî Base + Prote√ß√£o (apenas base vis√≠vel)</h3>
  <div class="grid-estrat">
    <div class="card">
      <h4>1. Elite 2X</h4>
      <div class="tag">Gatilho: Terminal 4 ou 5</div>
      <div class="row"><div class="k">Base</div><div class="v nums"><span class="num">2</span><span class="num">12</span><span class="num">22</span><span class="num">32</span></div></div>
      <div class="row"><div class="k">Prote√ß√£o</div><div class="v nums"><span class="num">0</span></div></div>
      <div class="muted">Obs.: operar com 2 vizinhos no Race (n√£o listados aqui).</div>
    </div>
    <div class="card">
      <h4>2. Quarta Dimens√£o</h4>
      <div class="tag">Gatilho: Terminal 1 ou 3</div>
      <div class="row"><div class="k">Base</div><div class="v nums"><span class="num">4</span><span class="num">14</span><span class="num">24</span><span class="num">34</span></div></div>
      <div class="row"><div class="k">Prote√ß√£o</div><div class="v nums"><span class="num">0</span></div></div>
      <div class="muted">Obs.: 2 vizinhos no Race.</div>
    </div>
    <div class="card">
      <h4>3. F√≥rmula 5X</h4>
      <div class="tag">Gatilho: Terminal 6 ou 8</div>
      <div class="row"><div class="k">Base</div><div class="v nums"><span class="num">5</span><span class="num">15</span><span class="num">25</span><span class="num">35</span></div></div>
      <div class="row"><div class="k">Prote√ß√£o</div><div class="v nums"><span class="num">0</span></div></div>
      <div class="muted">Obs.: 2 vizinhos no Race.</div>
    </div>
    <div class="card">
      <h4>4. Alpha 6</h4>
      <div class="tag">Gatilho: Terminal 2 ou 9</div>
      <div class="row"><div class="k">Base</div><div class="v nums"><span class="num">6</span><span class="num">16</span><span class="num">26</span><span class="num">36</span></div></div>
      <div class="row"><div class="k">Prote√ß√£o</div><div class="v nums"><span class="num">0</span></div></div>
      <div class="muted">Obs.: 2 vizinhos no Race.</div>
    </div>
  </div>
</div>

  </div>  <!-- WS Console flutuante -->  <div id="ws-console" style="display:none">
    <header>
      <strong>WS Console</strong>
      <input id="wsf" placeholder="filtrar por URL ou texto...">
    </header>
    <div id="ws-body"></div>
  </div><script>
  // ====== √Åudio ======
  const SND = {
    green: new Audio('/sounds/green.wav'),
    red: new Audio('/sounds/red.wav'),
    alerta: new Audio('/sounds/alerta.wav'),
    click: new Audio('/sounds/click.wav')
  };
  // navegadores bloqueiam autoplay; tocaremos ap√≥s primeira intera√ß√£o
  ['green','red','alerta','click'].forEach(k=>{ SND[k].preload = 'auto'; });

  function play(name){ try{ SND[name]?.currentTime = 0; SND[name]?.play(); }catch(e){} }

  document.getElementById('testGreen').onclick = ()=> play('green');
  document.getElementById('testRed').onclick   = ()=> play('red');
  document.getElementById('testAlert').onclick = ()=> play('alerta');
  document.getElementById('testClick').onclick = ()=> play('click');

  // ====== Timer 18s ======
  let tHandle = null, tLeft = 18.0;
  const tEl = document.getElementById('t-left');
  const bubble = document.getElementById('t-bubble');
  function tick(){
    tLeft -= 0.1; if (tLeft <= 0){ tLeft = 18.0; play('alerta'); bubble.style.boxShadow='0 0 18px #ff0'; setTimeout(()=>bubble.style.boxShadow='0 0 10px #0f0',200); }
    tEl.textContent = tLeft.toFixed(1);
  }
  document.getElementById('t-reset').onclick = ()=>{ tLeft = 18.0; tEl.textContent = tLeft.toFixed(1); };
  document.getElementById('t-start').onclick = ()=>{ if(!tHandle) tHandle = setInterval(tick, 100); };
  document.getElementById('t-stop').onclick = ()=>{ clearInterval(tHandle); tHandle=null; };

  // ====== Logs ======
  const logBox = document.getElementById('logBox');
  function log(line, muted=false){
    const q = (document.getElementById('logFilter').value||'').toLowerCase();
    const div=document.createElement('div'); div.className='log-entry'; div.textContent=line;
    if(q && !line.toLowerCase().includes(q)) div.style.display='none';
    logBox.appendChild(div); logBox.scrollTop = logBox.scrollHeight;
  }
  document.getElementById('logFilter').oninput = e=>{
    const q=(e.target.value||'').toLowerCase();
    [...logBox.querySelectorAll('.log-entry')].forEach(n=>{ n.style.display = !q || n.textContent.toLowerCase().includes(q) ? '' : 'none'; });
  };
  document.getElementById('clearLogs').onclick = ()=>{ logBox.innerHTML=''; };
  document.getElementById('exportLogs').onclick = ()=>{
    const text=[...logBox.querySelectorAll('.log-entry')].map(n=>n.textContent).join('\n');
    const a=document.createElement('a'); a.href=URL.createObjectURL(new Blob([text],{type:'text/plain'})); a.download='sc-console.txt'; a.click(); URL.revokeObjectURL(a.href);
  };

  // ====== Live bind ======
  const live = {
    n: document.getElementById('live-num'),
    dealer: document.getElementById('live-dealer'),
    plat: document.getElementById('live-plat'),
    time: document.getElementById('live-time'),
    hist: document.getElementById('live-hist'),
    ttl: document.getElementById('ttl'),
    g: document.getElementById('greens'),
    r: document.getElementById('reds'),
  };
  let ttl=0, greens=0, reds=0; const hist=[];
  document.getElementById('btnMarkGreen').onclick = ()=>{ greens++; ttl++; play('green'); renderStats(); };
  document.getElementById('btnMarkRed').onclick = ()=>{ reds++; ttl++; play('red'); renderStats(); };
  function renderStats(){ live.ttl.textContent=ttl; live.g.textContent=greens; live.r.textContent=reds; }

  // ====== WS Console flutuante (debug) ======
  (function ensureWsConsole(){ const box=document.getElementById('ws-console'); if(box) box.style.display=''; })();
  const wsBody = document.getElementById('ws-body');
  const wsf = document.getElementById('wsf');
  function wsAppend(text, muted=false){ const row=document.createElement('div'); row.className='rowx'+(muted?' muted':''); row.textContent=text; if(wsf.value && !text.toLowerCase().includes(wsf.value.toLowerCase())) row.style.display='none'; wsBody.appendChild(row); wsBody.scrollTop = wsBody.scrollHeight; }
  wsf?.addEventListener('input', ()=>{ const q=wsf.value.toLowerCase(); [...wsBody.querySelectorAll('.rowx')].forEach(el=>{ el.style.display = !q || el.textContent.toLowerCase().includes(q) ? '' : 'none'; }); });

  // ====== Hook WebSocket global ======
  (function hookWS(){
    if (window.__wsHooked) return; window.__wsHooked = true;
    const OrigWS = window.WebSocket;
    function classify(url){
      if (/websocketstream2/i.test(url)) return {isTarget:false, kind:'video'};
      const jsonish = /socket\?(?:.*(tableConfig|instance)|.*messageFormat=json)/i.test(url);
      return {isTarget: jsonish, kind: jsonish ? 'data' : 'other'};
    }
    window.WebSocket = function(...args){
      const url = String(args[0]||''); const meta = classify(url); const ws = new OrigWS(...args);
      wsAppend(`[${new Date().toLocaleTimeString()}] OPEN  ${url}`, meta.kind!=='data');
      const _send = ws.send.bind(ws);
      ws.send = function(data){ let preview = (typeof data === 'string') ? data.slice(0,300) : (data?.byteLength ? `Binary(${data.byteLength})` : String(data)); wsAppend(`[${new Date().toLocaleTimeString()}] SEND  ${url}\n${preview}`, meta.kind!=='data'); return _send(data); };
      ws.addEventListener('message', async (evt)=>{
        if (!(typeof evt.data === 'string')){ try{ const ab = await evt.data.arrayBuffer(); wsAppend(`[${new Date().toLocaleTimeString()}] RECV  ${url}\nBinary(${ab.byteLength})`, true); }catch{} return; }
        const txt = evt.data;
        if (!meta.isTarget){ const preview = txt.length>300 ? txt.slice(0,300)+'‚Ä¶' : txt; wsAppend(`[${new Date().toLocaleTimeString()}] RECV  ${url}\n${preview}`, true); return; }
        const parsed = parsePayload(txt);
        if (parsed){
          const { n, dealer, special, eventName } = parsed;
          updateLive(n, dealer, 'EVO');
          wsAppend(`[${new Date().toLocaleTimeString()}] NUM=${n}  dealer=${dealer}  evt=${Array.isArray(special)?JSON.stringify(special):special}  (${eventName})`);
        } else {
          const preview = txt.length>400 ? txt.slice(0,400)+'‚Ä¶' : txt; wsAppend(`[${new Date().toLocaleTimeString()}] RECV  ${url}\n${preview}`, true);
        }
      });
      ws.addEventListener('close', (e)=>{ wsAppend(`[${new Date().toLocaleTimeString()}] CLOSE ${url} (code=${e.code} reason="${e.reason}")`, true); });
      ws.addEventListener('error', ()=>{ wsAppend(`[${new Date().toLocaleTimeString()}] ERROR ${url}`, true); });
      return ws;
    };
  })();

  function parsePayload(payload){
    // Socket.IO: "42[event, {...}]"
    if (payload.startsWith('42')){
      const i = payload.indexOf('['); if (i>=0){ try{ const arr = JSON.parse(payload.slice(i)); const eventName = arr?.[0]; const data = arr?.[1]; const n = data?.winningNumber ?? data?.data?.winningNumber ?? data?.result?.winningNumber ?? data?.number; const dealer = data?.dealer ?? data?.presenter ?? data?.data?.presenter?.name ?? data?.host ?? '-'; const special = data?.lightning ?? data?.fire ?? data?.result?.lightning ?? data?.multipliers ?? '-'; return { eventName, n, dealer, special }; }catch(e){} }
    }
    // JSON puro
    try{ const o = JSON.parse(payload); const n = o?.winningNumber ?? o?.data?.winningNumber ?? o?.result?.winningNumber ?? o?.number; if (n!=null){ const dealer = o?.dealer ?? o?.presenter ?? o?.data?.presenter?.name ?? o?.host ?? '-'; const special = o?.lightning ?? o?.fire ?? o?.result?.lightning ?? o?.multipliers ?? '-'; return { eventName:'json', n, dealer, special }; } }catch(e){}
    return null;
  }

  // Atualiza UI ao receber n√∫mero
  function updateLive(n, dealer, plat){
    if (typeof n === 'number' || (typeof n === 'string' && n !== '')){
      live.n.textContent = n;
      hist.unshift(n); if (hist.length>12) hist.pop();
      live.hist.textContent = hist.join(', ');
      live.time.textContent = new Date().toLocaleTimeString();
      live.dealer.textContent = dealer || '-';
      live.plat.textContent = plat || '-';
      // opcional: tocar som de alerta a cada novo n√∫mero
      play('click');
    }
  }

  // ====== Bot√µes conectar/fechar ======
  let manualWS = null;
  document.getElementById('btnConnect').onclick = ()=>{
    const url = document.getElementById('wsUrl').value.trim(); if (!url) return alert('Informe a URL do WebSocket de DADOS (JSON/Socket.IO).');
    try{ if (manualWS && manualWS.readyState===1) manualWS.close(); manualWS = new WebSocket(url); log(`[${new Date().toLocaleTimeString()}] Abrindo WS manual: `+url); }catch(e){ alert(e.message||e); }
  };
  document.getElementById('btnClose').onclick = ()=>{ try{ manualWS?.close(); }catch{} };
  document.getElementById('btnMask').onclick = ()=>{
    const el = document.getElementById('wsUrl');
    if (el.type === 'url') el.type = 'text'; else el.type = 'url';
  };
</script></body>
</html>
